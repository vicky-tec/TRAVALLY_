<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YuktiBot - Bihar AI Guide</title>
    <link rel="icon" href="https://vicky-tec.github.io/TRAVALLY/TRAVALLY.png" type="image/x-icon">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Quicksand:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #06B6D4;
            --secondary: #9333EA;
            --accent: #EC4899;
            --dark: #1E293B;
            --light: #F8FAFC;
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, rgb(0, 255, 255), rgb(128, 0, 255), rgb(0, 91, 144));
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            padding-bottom: 60px;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 32, 39, 0.9);
            padding: 1rem 5%;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .logo img {
            height: 40px;
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem 0;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        h2 {
            text-align: center;
            margin-top: 50px;
            color: rgb(255, 191, 0);
            font-size: 2rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }

        .chat-section {
            max-width: 800px;
            margin: 30px auto;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .chat-section h2 {
            text-align: center;
            font-size: 1.6rem;
            color: #009688;
            margin-top: 0;
        }

        .chat-window {
            height: 400px;
            overflow-y: auto;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .message {
            padding: 10px 15px;
            border-radius: 12px;
            margin-bottom: 10px;
            max-width: 75%;
            word-wrap: break-word;
            line-height: 1.5;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.bot {
            background: #d1e7dd;
            color: #333;
            text-align: left;
            border-bottom-left-radius: 4px;
        }

        .message.user {
            background: #009688;
            color: #fff;
            text-align: right;
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }

        .message.system {
            background: #f0f0f0;
            color: #666;
            text-align: center;
            margin: 10px auto;
            font-size: 0.9em;
            max-width: 90%;
            border-radius: 6px;
            padding: 8px 12px;
        }

        .chat-input {
            display: flex;
            justify-content: space-between;
        }

        .chat-input input {
            flex-grow: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .chat-input input:focus {
            border-color: #009688;
            box-shadow: 0 0 0 2px rgba(0, 150, 136, 0.2);
        }

        .chat-input button {
            background-color: #009688;
            color: white;
            border: none;
            padding: 12px 20px;
            margin-left: 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }

        .chat-input button:hover {
            background-color: #00796b;
        }

        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .suggestion-btn {
            background-color: #e0f2f1;
            color: #00796b;
            border: none;
            padding: 6px 12px;
            border-radius: 16px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .suggestion-btn:hover {
            background-color: #b2dfdb;
            transform: translateY(-2px);
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: rgba(15, 32, 39, 0.9);
            color: white;
            margin-top: 30px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        .typing-indicator {
            display: inline-block;
            padding: 8px 12px;
            background: #e0e0e0;
            border-radius: 12px;
            margin-bottom: 10px;
        }

        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #666;
            margin: 0 2px;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-5px);
            }
        }

        /* Voice input button styles */
        .voice-btn {
            background-color: #ff5722;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-left: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .voice-btn:hover {
            background-color: #e64a19;
            transform: scale(1.1);
        }

        .voice-btn.listening {
            animation: pulse 1.5s infinite;
            background-color: #f44336;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(244, 67, 54, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(244, 67, 54, 0);
            }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                padding: 1rem;
            }

            .nav-links {
                margin-top: 1rem;
                gap: 1rem;
            }

            .chat-section {
                margin: 20px 10px;
                padding: 15px;
            }

            .chat-window {
                height: 300px;
            }

            .message {
                max-width: 85%;
            }

            .chat-input {
                flex-wrap: wrap;
            }

            .voice-btn {
                margin-top: 10px;
                margin-left: 0;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <a href="index.html">
                <img src="TRAVALLY.png" alt="TRAVALLY logo" class="logo">
            </a>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="mapo.html">YatraMitra</a></li>
            <li><a href="About us.html">About</a></li>
        </ul>
    </nav>

    <h2>YuktiBot - Your Bihar AI Guide</h2>

    <section id="guide" class="chat-section">
        <h2>Ask me about Bihar!</h2>
        <div class="chat-window" id="chatWindow">
            <div class="message bot">Namaskar! üôè I'm YuktiBot, your AI guide to Bihar.
            </div>
            <div class="message system">Try asking about: history, IIT Patna, current affairs, culture, food, tourism,
                or famous people from Bihar
            </div>
        </div>
        <div class="suggestions" id="suggestions">
            <button class="suggestion-btn" onclick="sendSuggestion('Tell me about Bihar\'s history')">History</button>
            <button class="suggestion-btn" onclick="sendSuggestion('What are famous tourist places in Bihar?')">Tourist
                Places</button>
            <button class="suggestion-btn" onclick="sendSuggestion('Tell me about IIT Patna')">IIT Patna</button>
            <button class="suggestion-btn" onclick="sendSuggestion('Current affairs in Bihar')">Current Affairs</button>
        </div>
        <div class="chat-input">
            <input type="text" id="userInput" placeholder="Type your question about Bihar..."
                onkeypress="handleKeyPress(event)" />
            <button onclick="sendMessage()">Send</button>
            <button class="voice-btn" id="voiceBtn" title="Voice Input">
                <i class="fas fa-microphone"></i>
            </button>
        </div>
    </section>

    <footer>
        &copy; 2025 TRAVALLY | Designed with devotion ‚ú®
    </footer>

    <!-- Font Awesome for microphone icon -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <script>
        // Function to get current date and time in Bihar context
        function getBiharDateTime() {
            const now = new Date();

            // Options for formatting
            const options = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true,
                timeZone: 'Asia/Kolkata'
            };

            // Format in Hindi (for Bihar context)
            let dateTimeStr = now.toLocaleString('hi-IN', options);

            // Add Bihar time context
            return `‡§¨‡§ø‡§π‡§æ‡§∞ ‡§ï‡§æ ‡§∏‡§Æ‡§Ø: ${dateTimeStr}`;
        }
        // Enhanced knowledge base about Bihar with IIT Patna and current affairs
        const biharKnowledge = {
            greetings: {
                patterns: ["namaste", "pranam", "hello", "hi", "hey there", "greetings", "good day"],
                responses: [
                    "Pranam! üôè How may I assist you in exploring Bihar today?",
                    "Hello! What aspect of Bihar's heritage interests you?",
                    "Greetings! I'm here to share Bihar's wonders. What would you like to know?"
                ]
            },

            currentTime: {
                patterns: ["current time", "time now", "today's date", "what day is it", "date and time", "current date"],
                responses: [
                    getBiharDateTime('en') + "\n\nBihar follows Indian Standard Time (IST), which is UTC+5:30.",
                    "Current time in Bihar:\n" + getBiharDateTime('en') + "\n\nIn Patna, sunrise is typically around 5:30 AM and sunset around 6:30 PM.",

                    // With festival context
                    "Today in Bihar:\n" + getBiharDateTime('en') + "\n" +
                    (isChhathSeason() ?
                        "\nNote: Chhath Puja preparations are underway across Bihar!" :
                        "\nCurrent festival season: " + getCurrentFestival()),

                    // With more Bihar-specific context
                    `Bihar local time:\n${getBiharDateTime('en')}\n\n` +
                    `Daylight hours in Patna: ~5:30 AM to 6:30 PM\n` +
                    `Current season: ${getCurrentSeason()}`
                ]
            },
            history: {
                patterns: ["historical background", "ancient times", "bygone era", "origin story", "past events", "historical significance"],
                responses: [
                    "Bihar's chronicle is fascinating! Here are key highlights:\n\n" +
                    "‚Ä¢ Magadha Empire (6th-4th century BCE) with legendary rulers like Bimbisara and Ajatashatru\n" +
                    "‚Ä¢ The Mauryan dynasty (322-185 BCE) made Pataliputra (modern Patna) their capital\n" +
                    "‚Ä¢ Emperor Ashoka's transformation after the Kalinga war is legendary\n" +
                    "‚Ä¢ Ancient learning hubs: Nalanda (5th century CE) and Vikramshila (8th century CE)\n" +
                    "‚Ä¢ Birthplace of Buddhism (Bodh Gaya) and Jainism (Pawapuri)\n" +
                    "‚Ä¢ Medieval period saw Pala Empire rule before Mughal influence",

                    "Historical nuggets about Bihar:\n\n" +
                    "‚Ä¢ Vaishali (6th century BCE) pioneered republican governance\n" +
                    "‚Ä¢ Chinese scholars Faxian and Xuanzang documented Bihar's golden age\n" +
                    "‚Ä¢ Sher Shah Suri (1540-1545), the Afghan ruler who built Grand Trunk Road, hailed from Sasaram\n" +
                    "‚Ä¢ Bihar played pivotal role in India's independence movement"
                ]
            },
            tourism: {
                patterns: ["travel spots", "must-see locations", "places to explore", "sightseeing", "tourist attractions", "visit destinations"],
                responses: [
                    "Bihar's treasures await discovery:\n\n" +
                    "‚Ä¢ Bodh Gaya: Mahabodhi Temple (UNESCO site) where Buddha attained enlightenment\n" +
                    "‚Ä¢ Nalanda: Ruins of the ancient international university\n" +
                    "‚Ä¢ Patna: Golghar, Patna Museum, and Takht Sri Patna Sahib\n" +
                    "‚Ä¢ Rajgir: Vishwa Shanti Stupa and hot springs\n" +
                    "‚Ä¢ Vaishali: Ashokan pillar and Buddhist relics\n" +
                    "‚Ä¢ Pawapuri: Jalmandir where Lord Mahavira attained nirvana",

                    "More remarkable destinations:\n\n" +
                    "‚Ä¢ Kesaria Stupa: World's tallest Buddhist stupa\n" +
                    "‚Ä¢ Sasaram: Sher Shah Suri's magnificent tomb\n" +
                    "‚Ä¢ Valmiki National Park: Tiger reserve and wildlife sanctuary\n" +
                    "‚Ä¢ Sonepur Mela: Asia's largest cattle fair\n" +
                    "‚Ä¢ Barabar Caves: Ancient rock-cut architecture"
                ]
            },
            culture: {
                patterns: ["cultural heritage", "traditions", "customary practices", "folk arts", "way of life", "ethnic identity"],
                responses: [
                    "Bihar's cultural mosaic:\n\n" +
                    "‚Ä¢ Festivals: Chhath Puja (Sun worship), Buddha Purnima, Makar Sankranti\n" +
                    "‚Ä¢ Cuisine: Litti-chokha, sattu paratha, khaja, thekua\n" +
                    "‚Ä¢ Folk Arts: Madhubani paintings, Bidesia theatre, Jat-Jatin dance\n" +
                    "‚Ä¢ Languages: Hindi, Maithili, Bhojpuri, Magahi, Angika\n" +
                    "‚Ä¢ Attire: Traditional dhoti-kurta for men, distinctive saree styles for women",

                    "Cultural highlights:\n\n" +
                    "‚Ä¢ Chhath involves 36-hour fasting and riverbank rituals\n" +
                    "‚Ä¢ Madhubani art features nature and mythology in vibrant colors\n" +
                    "‚Ä¢ Sattu (roasted gram flour) is a nutritional staple\n" +
                    "‚Ä¢ Bihar has rich literary traditions in Maithili and Bhojpuri"
                ]
            },
            famousPeople: {
                patterns: ["renowned personalities", "notable figures", "eminent biharis", "celebrated individuals", "famous natives"],
                responses: [
                    "Bihar's luminaries across fields:\n\n" +
                    "‚Ä¢ Ancient: Ashoka, Chanakya, Aryabhata\n" +
                    "‚Ä¢ Freedom Struggle: Dr. Rajendra Prasad, Jayaprakash Narayan\n" +
                    "‚Ä¢ Politics: Karpoori Thakur, Nitish Kumar\n" +
                    "‚Ä¢ Arts: Ramdhari Singh 'Dinkar', Manoj Bajpayee\n" +
                    "‚Ä¢ Spiritual: Mahavira, Guru Gobind Singh",

                    "More distinguished Biharis:\n\n" +
                    "‚Ä¢ Science: Jagadish Chandra Bose (plant physiology pioneer)\n" +
                    "‚Ä¢ Sports: Neeraj Chopra (Olympic gold medalist)\n" +
                    "‚Ä¢ Social Reform: Bindeshwar Pathak (Sulabh International)\n" +
                    "‚Ä¢ Education: Anand Kumar (Super 30 founder)"
                ]
            },
            iitPatna: {
                patterns: ["iit patna", "indian institute of technology patna", "iitp", "engineering college patna"],
                responses: [
                    "Indian Institute of Technology Patna (IIT Patna):\n\n" +
                    "‚Ä¢ Established: 2008 (6th among new IITs)\n" +
                    "‚Ä¢ Campus: 500+ acres at Bihta (30km from Patna)\n" +
                    "‚Ä¢ Notable Features:\n" +
                    "  - First IIT in Bihar after NIT Patna\n" +
                    "  - Offers BTech, MTech, MSc, PhD programs\n" +
                    "  - Strong focus on research and innovation\n" +
                    "  - Collaborations with international universities\n" +
                    "‚Ä¢ Rankings: Among top 50 engineering institutes in India\n" +
                    "‚Ä¢ Specializations: AI, Data Science, Energy, Materials Science",

                    "More about IIT Patna:\n\n" +
                    "‚Ä¢ Infrastructure: Modern labs, hostels, sports complex\n" +
                    "‚Ä¢ Student Life: Active technical and cultural clubs\n" +
                    "‚Ä¢ Placements: Consistently good with top recruiters\n" +
                    "‚Ä¢ Notable Alumni: Several entrepreneurs and researchers\n" +
                    "‚Ä¢ Social Initiatives: Rural development programs\n" +
                    "‚Ä¢ Unique: Hosts annual tech fest 'Anwesha' and cultural fest 'Celesta'"
                ]
            },
            currentAffairs: {
                patterns: ["current affairs", "recent news", "latest developments", "current events", "recent happenings"],
                responses: [
                    "Current Affairs in Bihar (2024):\n\n" +
                    "‚Ä¢ Infrastructure: Patna Metro project progressing with expected completion by 2026\n" +
                    "‚Ä¢ Education: New medical colleges being established in several districts\n" +
                    "‚Ä¢ Economy: Focus on food processing industries and IT parks\n" +
                    "‚Ä¢ Agriculture: Record litchi production with new export opportunities\n" +
                    "‚Ä¢ Tourism: Buddhist circuit development with improved connectivity\n" +
                    "‚Ä¢ Politics: Upcoming panchayat elections scheduled for next month",

                    "Recent Developments in Bihar:\n\n" +
                    "‚Ä¢ Digital Bihar initiative expanding rural internet connectivity\n" +
                    "‚Ä¢ Flood management projects in North Bihar districts\n" +
                    "‚Ä¢ Startup ecosystem growing with government support\n" +
                    "‚Ä¢ Cultural: Recent UNESCO recognition for Madhubani art traditions\n" +
                    "‚Ä¢ Sports: Bihar athletes performing well in national events\n" +
                    "‚Ä¢ Environment: Increased focus on Ganga river conservation"
                ]
            },
            geography: {
                patterns: ["physical features", "land characteristics", "natural terrain", "regional divisions", "environmental aspects"],
                responses: [
                    "Bihar's geographical profile:\n\n" +
                    "‚Ä¢ Location: Eastern India bordering Nepal and 3 Indian states\n" +
                    "‚Ä¢ Rivers: Ganga divides Bihar, with tributaries like Kosi, Gandak\n" +
                    "‚Ä¢ Climate: Humid subtropical with distinct seasons\n" +
                    "‚Ä¢ Regions: Fertile northern plains and southern plateau fringes\n" +
                    "‚Ä¢ Natural Resources: Fertile alluvial soil, some mineral deposits",

                    "Geographical specifics:\n\n" +
                    "‚Ä¢ Kosi River called 'Bihar's Sorrow' for frequent floods\n" +
                    "‚Ä¢ Valmiki National Park is sole tiger reserve\n" +
                    "‚Ä¢ 38 districts organized into 9 administrative divisions\n" +
                    "‚Ä¢ Major cities: Patna, Gaya, Bhagalpur, Muzaffarpur"
                ]
            },
            economy: {
                patterns: ["economic scenario", "financial aspects", "commercial activities", "development progress", "industrial status"],
                responses: [
                    "Bihar's economic landscape:\n\n" +
                    "‚Ä¢ Agriculture: Leading producer of vegetables and fruits (especially litchi)\n" +
                    "‚Ä¢ Industries: Sugar mills, textiles, leather goods\n" +
                    "‚Ä¢ Services: Growing IT and education sectors in Patna\n" +
                    "‚Ä¢ Challenges: Infrastructure development and employment generation\n" +
                    "‚Ä¢ Initiatives: 'Jal Jeevan Hariyali' for water conservation",

                    "Economic highlights:\n\n" +
                    "‚Ä¢ Rapid GSDP growth in recent years\n" +
                    "‚Ä¢ Potential in food processing and tourism sectors\n" +
                    "‚Ä¢ Government schemes for agricultural improvement\n" +
                    "‚Ä¢ Traditional crafts like Madhubani paintings gaining global market"
                ]
            },
            education: {
                patterns: ["learning institutions", "academic scenario", "literacy status", "educational framework", "knowledge centers"],
                responses: [
                    "Education in Bihar:\n\n" +
                    "‚Ä¢ Historic: Nalanda and Vikramshila - ancient centers of learning\n" +
                    "‚Ä¢ Current: IIT Patna, NIT Patna, AIIMS Patna\n" +
                    "‚Ä¢ Schemes: Bicycle initiative for girl students\n" +
                    "‚Ä¢ Challenges: Improving quality and infrastructure\n" +
                    "‚Ä¢ Achievers: Many UPSC toppers hail from Bihar",

                    "Educational specifics:\n\n" +
                    "‚Ä¢ Patna Science College among prestigious institutions\n" +
                    "‚Ä¢ Chanakya National Law University gaining reputation\n" +
                    "‚Ä¢ Super 30 program helps underprivileged students\n" +
                    "‚Ä¢ Digital initiatives for remote learning"
                ]
            },
            food: {
                patterns: ["bihari food", "what to eat in bihar", "famous foods", "traditional cuisine", "local food", "must-try dishes", "bihar special food"],
                responses: [
                    "Bihar's gastronomic wonders:\n\n" +
                    "‚Ä¢ Signature: Litti-chokha (roasted wheat balls with spiced vegetables)\n" +
                    "‚Ä¢ Staples: Sattu preparations (paratha, sharbat)\n" +
                    "‚Ä¢ Snacks: Chana ghugni, pua, chura-dahi\n" +
                    "‚Ä¢ Sweets: Khaja (flaky pastry), tilkut (sesame delicacy)\n" +
                    "‚Ä¢ Festive: Thekua (Chhath special offering)",

                    "More culinary highlights:\n\n" +
                    "‚Ä¢ Bihari kebabs - spiced meat delicacies\n" +
                    "‚Ä¢ Makhana (fox nuts) from Darbhanga region\n" +
                    "‚Ä¢ Traditional meals served on leaf plates\n" +
                    "‚Ä¢ Distinctive mustard oil-based cooking",

                    "Regional specialties of Bihar:\n\n" +
                    "‚Ä¢ Mithila Region: Maachh-Bhat (fish with rice), Marua roti\n" +
                    "‚Ä¢ Bhojpur Area: Pitha during Makar Sankranti\n" +
                    "‚Ä¢ Magadh Region: Tilkut during winter months\n" +
                    "‚Ä¢ Anga Region: Chura-Dahi with sugar or jaggery",

                    "Bihar's street food culture:\n\n" +
                    "‚Ä¢ Patna's famous Khaja at Ramna Road\n" +
                    "‚Ä¢ Litti stalls near Gandhi Maidan\n" +
                    "‚Ä¢ Chana Ghugni vendors in local markets\n" +
                    "‚Ä¢ Seasonal fruits like Shahi Litchi from Muzaffarpur"
                ]
            },

            festivals: {
                patterns: ["festivals", "celebrations", "cultural events", "religious observances", "festive occasions"],
                responses: [
                    "Bihar's vibrant festival calendar:\n\n" +
                    "‚Ä¢ Chhath Puja: The most iconic festival honoring the Sun God (October/November)\n" +
                    "‚Ä¢ Sonepur Mela: Asia's largest cattle fair with cultural events (November)\n" +
                    "‚Ä¢ Buddha Purnima: Celebrates Buddha's birth in Bodh Gaya (April/May)\n" +
                    "‚Ä¢ Makar Sankranti: Kite flying and sesame sweets (January)\n" +
                    "‚Ä¢ Pitru Paksha: Ancestral worship rituals (September)\n" +
                    "‚Ä¢ Rajgir Mahotsav: Dance and music festival (October)",

                    "Unique regional celebrations:\n\n" +
                    "‚Ä¢ Sama-Chakeva: Bird festival in Mithila region (Winter)\n" +
                    "‚Ä¢ Malmas Mela: Held every 3 years in Rajgir\n" +
                    "‚Ä¢ Bihula: Folk festival in Bhagalpur region\n" +
                    "‚Ä¢ Shravani Mela: Month-long pilgrimage (July-August)"
                ]
            },

            literature: {
                patterns: ["literature", "books", "authors", "poetry", "writers", "bihari literature"],
                responses: [
                    "Bihar's literary heritage:\n\n" +
                    "‚Ä¢ Ancient: Vatsyayana's Kama Sutra, Aryabhata's astronomical works\n" +
                    "‚Ä¢ Modern: Ramdhari Singh 'Dinkar' (national poet), Phanishwar Nath 'Renu'\n" +
                    "‚Ä¢ Languages: Rich traditions in Maithili, Bhojpuri, Magahi\n" +
                    "‚Ä¢ Institutions: Patna University's Hindi department is renowned\n" +
                    "‚Ä¢ Awards: Several Jnanpith and Sahitya Akademi winners from Bihar",

                    "Notable literary works:\n\n" +
                    "‚Ä¢ Maila Anchal by Phanishwar Nath 'Renu'\n" +
                    "‚Ä¢ Rashmirathi by Ramdhari Singh Dinkar\n" +
                    "‚Ä¢ Panchlight by Bhagwati Sharan Mishra\n" +
                    "‚Ä¢ Maithili literature by Vidyapati (14th century)"
                ]
            },

            transport: {
                patterns: ["transportation", "how to travel", "getting around", "public transport", "travel options"],
                responses: [
                    "Navigating Bihar:\n\n" +
                    "‚Ä¢ Airports: Patna, Gaya (international), Darbhanga\n" +
                    "‚Ä¢ Railways: Extensive network with major junctions at Patna, Gaya, Muzaffarpur\n" +
                    "‚Ä¢ Roadways: National highways connect all major cities\n" +
                    "‚Ä¢ Local Transport: Auto-rickshaws, e-rickshaws, buses\n" +
                    "‚Ä¢ Upcoming: Patna Metro (first phase expected 2025)",

                    "Travel tips for Bihar:\n\n" +
                    "‚Ä¢ Best for tourists: Private taxis for inter-city travel\n" +
                    "‚Ä¢ Buddhist Circuit: Special tourist buses available\n" +
                    "‚Ä¢ River Transport: Ganga ferries between Patna and nearby towns\n" +
                    "‚Ä¢ Ride-hailing: Ola/Uber available in Patna"
                ]
            },

            agriculture: {
                patterns: ["farming", "crops", "agricultural produce", "rural economy", "farming techniques"],
                responses: [
                    "Bihar's agricultural landscape:\n\n" +
                    "‚Ä¢ Major Crops: Rice, wheat, maize, pulses, sugarcane\n" +
                    "‚Ä¢ Cash Crops: Litchi (Muzaffarpur), mango (Bhagalpur), tobacco\n" +
                    "‚Ä¢ Innovations: SRI (System of Rice Intensification) techniques\n" +
                    "‚Ä¢ Challenges: Floods in north Bihar, drought in south\n" +
                    "‚Ä¢ Schemes: Bihar Rajya Fasal Sahayata Yojana for farmers",

                    "Specialty produce:\n\n" +
                    "‚Ä¢ Shahi Litchi: GI tagged from Muzaffarpur\n" +
                    "‚Ä¢ Katarni Rice: Aromatic variety from Bhagalpur\n" +
                    "‚Ä¢ Makhana (Fox nuts): Grown in Darbhanga/Saharsa\n" +
                    "‚Ä¢ Jardalu Mango: Special variety from Bhagalpur"
                ]
            },

            sports: {
                patterns: ["sports", "athletes", "games", "sports persons", "sports achievements"],
                responses: [
                    "Bihar's sports culture:\n\n" +
                    "‚Ä¢ Traditional: Kabaddi, Gilli-Danda, Kho-Kho\n" +
                    "‚Ä¢ Modern: Cricket, football, athletics\n" +
                    "‚Ä¢ Facilities: Moin-ul-Haq Stadium (Patna), various academies\n" +
                    "‚Ä¢ Achievers: Neeraj Chopra (Olympics), Kameshwar Pandey (football)",

                    "Recent developments:\n\n" +
                    "‚Ä¢ Bihar Kabaddi League launched in 2023\n" +
                    "‚Ä¢ New sports complex in Rajgir\n" +
                    "‚Ä¢ State government's 'Mission Olympic' program\n" +
                    "‚Ä¢ Growth of cricket academies across districts"
                ]
            },

            districts: {
                patterns: ["districts", "important cities", "major towns", "administrative divisions"],
                responses: [
                    "Bihar's administrative divisions:\n\n" +
                    "‚Ä¢ Total 38 districts grouped into 9 divisions\n" +
                    "‚Ä¢ Important Cities:\n" +
                    "  - Patna (capital), Gaya (spiritual center)\n" +
                    "  - Muzaffarpur (commercial hub)\n" +
                    "  - Bhagalpur (silk city), Darbhanga (cultural center)\n" +
                    "  - Nalanda (ancient learning center)",

                    "District specialties:\n\n" +
                    "‚Ä¢ Rohtas: Historical forts and industries\n" +
                    "‚Ä¢ West Champaran: Valmiki Tiger Reserve\n" +
                    "‚Ä¢ Sitamarhi: Birthplace of Sita (Ramayana)\n" +
                    "‚Ä¢ Madhubani: Famous for Mithila paintings\n" +
                    "‚Ä¢ Saran: Chirand archaeological site"
                ]
            },

            handicrafts: {
                patterns: ["handicrafts", "traditional arts", "handmade products", "artisanal crafts"],
                responses: [
                    "Bihar's exquisite handicrafts:\n\n" +
                    "‚Ä¢ Madhubani/Mithila Paintings: Intricate folk art\n" +
                    "‚Ä¢ Sujni Embroidery: Traditional quilt-making\n" +
                    "‚Ä¢ Bamboo Crafts: Furniture and household items\n" +
                    "‚Ä¢ Stone Pottery: Especially from Patna\n" +
                    "‚Ä¢ Bhagalpuri Silk: Renowned worldwide",

                    "Where to find handicrafts:\n\n" +
                    "‚Ä¢ Madhubani: Direct from artists' villages\n" +
                    "‚Ä¢ Patna: Khadi Gramodyog Bhawan\n" +
                    "‚Ä¢ Government emporiums in major cities\n" +
                    "‚Ä¢ Annual craft fairs in Patna and Bodh Gaya"
                ]
            },

            wildlife: {
                patterns: ["wildlife", "animals", "sanctuaries", "national parks", "biodiversity"],
                responses: [
                    "Bihar's wildlife treasures:\n\n" +
                    "‚Ä¢ Valmiki National Park: Only tiger reserve (West Champaran)\n" +
                    "‚Ä¢ Bhimbandh Wildlife Sanctuary: Hot springs and animals\n" +
                    "‚Ä¢ Kaimur Wildlife Sanctuary: Diverse flora and fauna\n" +
                    "‚Ä¢ Gautam Buddha Wildlife Sanctuary: Rare species\n" +
                    "‚Ä¢ Kanwar Lake Bird Sanctuary: Asia's largest freshwater oxbow lake",

                    "Notable wildlife:\n\n" +
                    "‚Ä¢ Royal Bengal Tigers in Valmiki\n" +
                    "‚Ä¢ Migratory birds at Kanwar Lake\n" +
                    "‚Ä¢ Sloth bears in Kaimur\n" +
                    "‚Ä¢ Endangered Gangetic dolphins in Ganga"
                ]
            },

            university: {
                patterns: ["universities", "higher education", "colleges", "educational institutes"],
                responses: [
                    "Bihar's premier universities:\n\n" +
                    "‚Ä¢ Patna University (1917): One of India's oldest\n" +
                    "‚Ä¢ Nalanda University (revived): International institution\n" +
                    "‚Ä¢ Chanakya National Law University\n" +
                    "‚Ä¢ Aryabhatta Knowledge University (technical education)\n" +
                    "‚Ä¢ Magadh University (one of India's largest)",

                    "Specialized institutions:\n\n" +
                    "‚Ä¢ AIIMS Patna: Premier medical institute\n" +
                    "‚Ä¢ Indian Institute of Management Bodh Gaya\n" +
                    "‚Ä¢ National Institute of Technology Patna\n" +
                    "‚Ä¢ Central University of South Bihar"
                ]
            },

            unknown: {
                responses: [
                    "I specialize in Bihar-related knowledge. Perhaps ask about heritage sites, cultural practices, or notable personalities?",
                    "My expertise covers Bihar's aspects. Could you rephrase your query about the state?",
                    "I'm designed to share Bihar's wonders. Maybe inquire about tourism, history, or cuisine?",
                    "Let's focus on Bihar's treasures. What would you like to know about the state?"
                ]
            }
        };

        // DOM elements
        const chatWindow = document.getElementById('chatWindow');
        const userInput = document.getElementById('userInput');
        const suggestions = document.getElementById('suggestions');
        const voiceBtn = document.getElementById('voiceBtn');

        // Speech recognition setup
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        let recognition;

        if (SpeechRecognition) {
            recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'en-IN';

            recognition.onstart = function () {
                voiceBtn.classList.add('listening');
                addMessage("Listening... Speak now", 'system');
            };

            recognition.onresult = function (event) {
                const transcript = event.results[0][0].transcript;
                userInput.value = transcript;
                sendMessage();
            };

            recognition.onerror = function (event) {
                voiceBtn.classList.remove('listening');
                addMessage("Could not understand audio. Please try again.", 'system');
            };

            recognition.onend = function () {
                voiceBtn.classList.remove('listening');
            };
        } else {
            voiceBtn.style.display = 'none';
            addMessage("Voice input not supported in your browser", 'system');
        }

        // Voice button click handler
        voiceBtn.addEventListener('click', function () {
            if (voiceBtn.classList.contains('listening')) {
                recognition.stop();
            } else {
                try {
                    recognition.start();
                } catch (e) {
                    addMessage("Error accessing microphone. Please check permissions.", 'system');
                }
            }
        });

        // Function to add message to chat
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender);
            messageDiv.textContent = text;
            chatWindow.appendChild(messageDiv);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        // Function to show typing indicator
        function showTyping() {
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('typing-indicator');
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = '<span class="typing-dot"></span><span class="typing-dot"></span><span class="typing-dot"></span>';
            chatWindow.appendChild(typingDiv);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        // Function to hide typing indicator
        function hideTyping() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // Function to get bot response
        function getBotResponse(userMessage) {
            userMessage = userMessage.toLowerCase().trim();

            // Check for greetings
            if (biharKnowledge.greetings.patterns.some(pattern => userMessage.includes(pattern))) {
                return getRandomResponse(biharKnowledge.greetings.responses);
            }

            // Check other categories
            for (const category in biharKnowledge) {
                if (category !== 'greetings' && category !== 'unknown') {
                    if (biharKnowledge[category].patterns.some(pattern => userMessage.includes(pattern))) {
                        return getRandomResponse(biharKnowledge[category].responses);
                    }
                }
            }

            // Default response
            return getRandomResponse(biharKnowledge.unknown.responses);
        }

        // Helper function to get random response from array
        function getRandomResponse(responses) {
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Function to send message
        function sendMessage() {
            const message = userInput.value.trim();
            if (message === '') return;

            addMessage(message, 'user');
            userInput.value = '';

            showTyping();

            // Simulate thinking delay
            setTimeout(() => {
                hideTyping();
                const response = getBotResponse(message);
                addMessage(response, 'bot');

                // Add some quick suggestions based on response
                if (response.includes('history')) {
                    addQuickSuggestions(['More about Maurya Empire', 'Ancient universities', 'Buddha in Bihar']);
                } else if (response.includes('tourist')) {
                    addQuickSuggestions(['Bodh Gaya details', 'Nalanda University', 'Patna attractions']);
                } else if (response.includes('culture')) {
                    addQuickSuggestions(['Chhath Puja', 'Madhubani art', 'Bihari cuisine']);
                } else if (response.includes('famous people')) {
                    addQuickSuggestions(['Emperor Ashoka', 'Dr. Rajendra Prasad', 'Anand Kumar']);
                } else if (response.includes('IIT Patna')) {
                    addQuickSuggestions(['Admissions at IIT Patna', 'Courses offered', 'Placement statistics']);
                } else if (response.includes('current affairs')) {
                    addQuickSuggestions(['Bihar politics', 'Economic growth', 'Infrastructure projects']);
                }
            }, 1000 + Math.random() * 2000); // Random delay between 1-3 seconds
        }

        // Function to handle suggestion buttons
        function sendSuggestion(suggestion) {
            userInput.value = suggestion;
            sendMessage();
        }

        // Function to add quick suggestions
        function addQuickSuggestions(suggestions) {
            const existingButtons = document.querySelectorAll('.quick-suggestion');
            existingButtons.forEach(btn => btn.remove());

            suggestions.forEach(suggestion => {
                const btn = document.createElement('button');
                btn.classList.add('suggestion-btn', 'quick-suggestion');
                btn.textContent = suggestion;
                btn.onclick = () => {
                    userInput.value = suggestion;
                    sendMessage();
                };
                suggestions.appendChild(btn);
            });
        }

        // Handle Enter key press
        function handleKeyPress(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        }

        // Initial greeting
        window.onload = function () {
            setTimeout(() => {
                addMessage("You can ask me about:\n- Bihar's history and ancient universities\n- IIT Patna and other educational institutions\n- Current affairs and developments\n- Famous tourist places\n- Cultural aspects and traditions\n- Notable personalities from Bihar\n- Bihari cuisine and local specialties", 'bot');
            }, 1500);
        };
        window.onload = function () {
            // Add initial greeting
            setTimeout(() => {
                addMessage("You can ask me about:\n- Bihar's history and ancient universities\n- IIT Patna and other educational institutions\n- Current affairs and developments\n- Famous tourist places\n- Cultural aspects and traditions\n- Notable personalities from Bihar\n- Bihari cuisine and local specialties", 'bot');

                // Add current time
                setTimeout(() => {
                    addMessage(getBiharDateTime(), 'system');
                }, 500);
            }, 1500);
        };
        // Function to get current date/time formatted for Bihar
        function getBiharDateTime(lang = 'en') {
            const now = new Date();
            const options = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true,
                timeZone: 'Asia/Kolkata'
            };
            return now.toLocaleString(lang === 'hi' ? 'hi-IN' : 'en-IN', options);
        }

        // Helper function to get current season in Bihar
        function getCurrentSeason() {
            const month = new Date().getMonth();
            if (month >= 10 || month < 2) return "Winter (Cool and pleasant)";
            if (month >= 2 && month < 5) return "Summer (Hot, peak heat in May)";
            if (month >= 5 && month < 7) return "Pre-monsoon (Humid)";
            return "Monsoon (Rainy season)";
        }

        // Helper function for festival check
        function isChhathSeason() {
            const now = new Date();
            return (now.getMonth() === 10); // November
        }

        // Helper function to get current festival
        function getCurrentFestival() {
            const month = new Date().getMonth();
            switch (month) {
                case 0: return "Makar Sankranti (Kite festival)";
                case 3: return "Buddha Purnima celebrations";
                case 9: return "Navratri and Durga Puja";
                case 10: return "Chhath Puja preparations";
                default: return "Regular season in Bihar";
            }
        }
    </script>
</body>

</html>
